<odoo>
    <data>
        <record id="courier_management_inherit" model="ir.ui.view">
            <field name="name">dev.courier.request.inherit</field>
            <field name="model">dev.courier.request</field>
            <field name="inherit_id" ref="dev_courier_management.view_dev_courier_request_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='courier_details']//field[@name='name']" position="after">
                    <field name="package_name_id"/>

                </xpath>
                <xpath expr="//page[@name='courier_details']//field[@name='description']" position="after">
                    <field name="dimensional_internal_id"/>
                    <field name="dimensional_external_id"/>
                </xpath>
                <xpath expr="//page[@name='courier_details']//field[@name='dimension_id']" position="replace">
                    <field name="temperature"/>
                    <field name="volume_weight"/>
                    <field name="gross_weight"/>
                    <field name="chargeable_weight"/>
                </xpath>
                <xpath expr="//field[@name='sender_email']" position="after">
                    <field name="account_no"/>
                </xpath>
                <xpath expr="//field[@name='receiver_email']" position="after">
                    <field name="purchase_order"/>
                </xpath>
                <xpath expr="//field[@name='registration_date']" position="attributes">
                    <attribute name="string">Booking Date</attribute>
                </xpath>
                <xpath expr="//field[@name='priority_id']" position="after">
                    <field name="study_no"/>
                </xpath>
                <xpath expr="//notebook//field[@name='user_id']" position="after">
                    <field name="service_terms"/>
                    <field name="inco_terms"/>
                    <field name="shipment_id"/>

                    <field name="new_dg_goods"/>
                    <field name="dg_number" invisible="new_dg_goods == 'no'"/>
                    <field name="new_collect_empty"/>
                    <field name="new_collect_data"/>
                    <field name="dl_no"/>
                    <field name="remarks" placeholder="Remarks . . ." widget="html" colspan="2" nolabel="1"/>


                </xpath>
                <xpath expr="//group/group[1]" position="attributes">
                    <attribute name="string">Shipper</attribute>
                </xpath>
                <xpath expr="//group/group[2]" position="attributes">
                    <attribute name="string">Consignee</attribute>
                </xpath>
                <xpath expr="//field[@name='sender_id']" position="attributes">
                    <attribute name="string">Shipper</attribute>
                </xpath>
                <xpath expr="//field[@name='receiver_id']" position="attributes">
                    <attribute name="string">Consignee</attribute>
                </xpath>
                <xpath expr="//field[@name='sender_name']" position="attributes">
                    <attribute name="string">Shipper Company Name</attribute>
                </xpath>
                <xpath expr="//field[@name='receiver_name']" position="attributes">
                    <attribute name="string">Consignee Company Name</attribute>
                </xpath>
                <xpath expr="//group/group[1]/span[@name='address_name']/b" position="replace">
                    <b>Shipper Address</b>
                </xpath>
                <xpath expr="//group/group[2]/span[@name='address_name']/b" position="replace">
                    <b>Consignee Address</b>
                </xpath>
                <xpath expr="//field[@name='sender_mobile']" position="attributes">
                    <attribute name="string">Shipper Mobile</attribute>
                </xpath>
                <xpath expr="//field[@name='receiver_mobile']" position="attributes">
                    <attribute name="string">Consignee Mobile</attribute>
                </xpath>
                <xpath expr="//field[@name='sender_email']" position="attributes">
                    <attribute name="string">Shipper Email</attribute>
                </xpath>
                <xpath expr="//field[@name='receiver_email']" position="attributes">
                    <attribute name="string">Consignee Email</attribute>
                </xpath>
                <xpath expr="//field[@name='delivery_date']" position="attributes">
                    <attribute name="string">Schedule Delivery Date</attribute>
                </xpath>
                <xpath expr="//field[@name='registration_date']" position="after">
                    <field name="schedule_date"/>
                </xpath>
                <xpath expr="//notebook//tree/field[@name='price']" position="attributes">
                    <attribute name="column_invisible">1</attribute>
                </xpath>
                <xpath expr="//notebook//tree/field[@name='dim_price']" position="attributes">
                    <attribute name="column_invisible">1</attribute>
                </xpath>
                <xpath expr="//notebook//tree/field[@name='total_price']" position="attributes">
                    <attribute name="column_invisible">1</attribute>
                </xpath>
                <xpath expr="//group[@class='oe_invoice_lines_tab']//group[@class='oe_subtotal_footer oe_right']"
                       position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='account_no']" position="before">
                    <field name="customer_acc_no"/>
                </xpath>
                <xpath expr="//field[@name='account_no']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='sender_name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='sender_id']" position="after">
                    <field name="shipper_contact_id" domain="[('parent_id','=', sender_id)]"/>
                </xpath>
                <xpath expr="//field[@name='receiver_name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='receiver_id']" position="after">
                    <field name="consignee_contact_id" domain="[('parent_id','=', receiver_id)]"/>
                </xpath>

                <xpath expr="//group" position="before">
                    <group string="Account Details" style="width:50%">
                        <field name="account_id"
                               domain="[('is_company', '=', True)]"/>
                        <label for="account_street" string="Account Address"/>
                        <div class="o_address_format">
                            <field name="account_street" placeholder="Street..." class="o_address_street"
                                   context="{'default_account_street':account_id.street}"/>
                            <field name="account_street2" placeholder="Street 2..." class="o_address_street"/>
                            <field name="account_city" placeholder="City" class="o_address_city"/>
                            <field name="account_state_id" class="o_address_state" placeholder="State"
                                   options="{'no_open': True, 'no_quick_create': True}"
                                   context="{'account_country_id': account_country_id, 'default_account_country_id': account_country_id, 'account_zip': account_zip}"/>
                            <field name="account_zip" placeholder="ZIP" class="o_address_zip"/>
                            <field name="account_country_id" placeholder="Country" class="o_address_country"
                                   options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                        </div>
                        <field name="contact_name" required="1" domain="[('parent_id','=', account_id)]"/>
                        <field name="contact_mobile" required="1" options="{'no_create': True}"/>
                        <field name="contact_email" required="1"/>
                        <field name="shipping_type_id" widget="selection"/>
                        <field name="state_ids" widget="many2many_tags" invisible="1"/>
                        <field name="show_drop_button" invisible="1"/>
                        <field name="show_drs_button" invisible="1"/>
                        <field name="show_custom_clearance_button" invisible="1"/>
                        <field name="show_manifest_button" invisible="1"/>
                        <field name="show_recovered_button" invisible="1"/>
                        <field name="show_shipping_clearance_button" invisible="1"/>
                        <field name="show_onhold_button" invisible="1"/>

                    </group>
                </xpath>
                <xpath expr="//page[@name='courier_details']" position="after">
                    <page string="Extra Information">
                        <group>
                            <group string="Driver Dispatched Details">
                                <field name="pickup_vender"/>
                                <field name="vehicle_number"/>
                                <field name="person_name"/>
                                <field name="pickup_person_contact"/>
                                <field name="pickup_date"/>
                                <field name="pickup_remark"/>
                            </group>

                            <group string="Droped At Airline Details">
                                <field name="drop_vender"/>
                                <field name="drop_vehicle_number"/>
                                <field name="drop_date"/>
                                <field name="drop_remark"/>
                            </group>
                        </group>
                        <group>
                            <group string="Manifest(OUT) Details">
                                <field name="mode_transport" widget="selection"/>
                                <field name="hide_cd_lr_number" invisible="1"/>
                                <field name="hide_flight_number_and_bill" invisible="1"/>
                                <field name="airway_bill_number" invisible="hide_flight_number_and_bill == False"/>
                                <field name="flight_number" invisible="hide_flight_number_and_bill == False"/>
                                <field name="lr_number" invisible="hide_cd_lr_number == False"/>
                                <field name="cd_number" invisible="hide_cd_lr_number == False"/>
                                <field name="manifest_vendor_id"/>
                                <field name="from_country_id"/>
                                <field name="from_location_id"/>
                                <field name="from_city"/>
                                <field name="via"/>
                                <field name="to_country_id"/>
                                <field name="to_location_id"/>
                                <field name="to_city"/>
                                <field name="departure_status"/>
                                <field name="arrival_status"/>
                                <field name="manifest_out_remarks"/>
                            </group>
                            <group string="Manifest(IN) Details">
                                <field name="arrived_date"/>
                                <field name="manifest_in_id"/>

                            </group>

                        </group>
                        <group>
                            <group string="Recovered Details">
                                <field name="recovered_vendor_id"/>
                                <field name="recovered_vehicle_number"/>
                                <field name="recovered_date"/>
                                <field name="recovered_remarks"/>

                            </group>
                            <group string="DRS Details">
                                <field name="drs_vendor_id"/>
                                <field name="drs_vehicle_number"/>
                                <field name="drs_name"/>
                                <field name="drs_person_contact"/>
                                <field name="drs_date"/>
                            </group>

                        </group>
                        <group>
                            <group string="Delivered Details">
                                <field name="receiver_number"/>
                                <field name="delivered_date"/>
                                <field name="delivered_remarks"/>
                            </group>
                            <group string="Customs Clearance at origin Details">
                                <field name="origin_name_id"/>
                                <field name="origin_date"/>
                                <field name="origin_remark"/>
                            </group>
                            <group string="Customs Clearance at destination Details">
                                <field name="destination_name_id"/>
                                <field name="destination_date"/>
                                <field name="duties_taxes" widget="selection"/>
                                <field name="destination_remarks"/>
                            </group>
                            <group string="Shipment under customs Clearance">
                                <field name="shipment_date"/>
                                <field name="shipment_remarks"/>

                            </group>


                        </group>
                        <group>
                            <group string="Onhold">
                                <field name="onhold_date"/>
                                <field name="onhold_remarks"/>
                            </group>
                            <group string="Shipment in Transit">
                                <field name="transit_date"/>
                                <field name="transit_remarks"/>
                            </group>
                        </group>
                        <group>
                            <group string="Dry Ice Replenishment">

                                <field name="replenishment_date"/>
                                <field name="dry_ice_wt"/>
                                <field name="replenishment_remarks"/>


                            </group>
                            <group string="Cancellation of Hawb">
                                <field name="cancel_date"/>
                                <field name="cancel_reason" widget="selection"/>
                                <field name="cancel_remarks"/>
                            </group>
                        </group>
                        <group>
                            <group string="Parcel On Board(POB)">
                                <field name="vendor_id"/>
                                <field name="pob_vehicle_number"/>
                                <field name="pickup_datetime"/>
                                <field name="pickup_temperature"/>
                                <field name="pob_remarks"/>
                            </group>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//notebook/page[last()]" position="after">
                    <page string="Invoice Details" name="invoce_details">
                        <field name="invoices_line_ids" context="{'default_currency_id': currency_id}">
                            <tree editable="bottom">
                                <field name="product_id"/>
                                <field name="product_description"/>
                                <field name="product_qty"/>
                                <field name="product_uom"/>
                                <field name="price_unit"/>
                                <field name="tax_id" widget="many2many_tags"/>
                                <field name="discount"/>
                                <field name="price_subtotal" options="{'currency_field': 'currency_id'}"/>
                            </tree>
                            <form>
                                <group>
                                    <group>
                                        <field name="product_id" required="1"/>
                                        <field name="product_qty"/>
                                        <field name="product_uom"/>
                                    </group>
                                    <group>
                                        <field name="price_unit"/>
                                        <field name="discount"/>
                                        <field name="tax_id" widget="many2many_tags"/>
                                        <field name="price_subtotal" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </group>
                                </group>
                            </form>
                        </field>
                        <group name="note_group" col="6" class="mt-2 mt-md-0">
                            <!-- <group colspan="4">
                                <field colspan="2" name="note" nolabel="1" placeholder="Terms and conditions..."/>
                            </group> -->
                            <group class="oe_subtotal_footer" colspan="2">
                                <field name="amount_untaxed" readonly="1"/>
                                <field name="amount_tax" readonly="1"/>
                                <field name="amount_total" readonly="1"/>
                            </group>
                            <div class="clearfix"/>
                        </group>
                    </page>
                </xpath>

                <xpath expr="//header" position="inside">
                    <button type="object" name="action_open_driverdispatch_popup" string="Update Diver Dispatch Info"
                            class="btn-primary" invisible="state_id != 1"/>
                    <button type="object" name="action_open_pob_popup" string="Update POB Info" class="btn-primary"
                            invisible="state_id != 2"/>
                    <button type="object" name="action_open_drop_popup" string="Update Drop Info" class="btn-primary"
                            invisible="show_drop_button == False"/>
                    <button type="object" name="action_open_drs_popup" string="Update DRS/OUT for delivery(OFD) Info"
                            class="btn-primary" invisible="show_drs_button == False"/>
                    <button type="object" name="action_open_manifest_popup" string="Update Manifest(Out) Info"
                            class="btn-primary" invisible="show_manifest_button == False"/>
                    <button type="object" name="action_open_arrived_popup" string="Update Manifest(In) Info"
                            class="btn-primary" invisible="state_id != 6"/>

                    <button type="object" name="action_open_recovered_popup" string="Update Recovered Info"
                            class="btn-primary" invisible="show_recovered_button == False"/>

                    <button type="object" name="action_open_delivered_popup" string="Update Delivered Info"
                            class="btn-primary" invisible="state_id != 12"/>

                    <button type="object" name="action_open_origin_popup"
                            string="Update Customs Clearance at origin Info" class="btn-primary"
                            invisible="show_custom_clearance_button == False"/>

                    <button type="object" name="action_open_destination_popup"
                            string="Update Customs Clearance at Destination Info" class="btn-primary"
                            invisible="state_id != 8"/>

                    <button type="object" name="action_open_shipment_popup" string="Update Shipment in custom Clearance"
                            class="btn-primary" invisible="show_shipping_clearance_button == False"/>

                    <button type="object" name="action_open_onhold_popup" string="Update onhold Info"
                            class="btn-primary" invisible="show_onhold_button == False"/>

                    <button type="object" name="action_open_transit_popup" string="Shipment in Transit"
                            class="btn-primary" invisible="state_id != 14"/>
                    <button type="object" name="action_open_replenishment_popup" string="Dry ice replenishment"
                            class="btn-primary" invisible="state_id != 10"/>

                    <button type="object" name="action_open_cancel_popup" string="Cancel of HAWB" class="btn-primary"/>
                </xpath>

                <!--                <xpath expr="//form//field[@name='state_id']" position="attributes">-->
                <!--                    <attribute name="readonly">1</attribute>-->
                <!--                </xpath>-->


            </field>
        </record>

        <record id="action_create_customer_invoices" model="ir.actions.server">
            <field name="name">Create Customer Invoices</field>
            <field name="model_id" ref="model_dev_courier_request"/>
            <field name="binding_model_id" ref="model_dev_courier_request"/>
            <field name="state">code</field>
            <field name="binding_view_types">list</field>
            <field name="code">
                action = records.create_courier_customer_invoices()
            </field>
        </record>

        <record id="inherit_view_dev_courier_request_tree" model="ir.ui.view">
            <field name="name">inherit.view.dev.courier.request.tree</field>
            <field name="model">dev.courier.request</field>
            <field name="inherit_id" ref="dev_courier_management.view_dev_courier_request_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree//field[@name='sender_id']" position="before">
                    <field name="account_id"/>
                </xpath>
            </field>
        </record>

        <menuitem id="dev_courier_management.menu_courier_priority" name="Priority" groups="make_invisible"/>


    </data>
</odoo>